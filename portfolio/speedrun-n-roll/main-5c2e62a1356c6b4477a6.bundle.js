(()=>{"use strict";var e,t,i,s={799:(e,t,i)=>{var s=i(260),n=i.n(s);class r{constructor(e){this.scene=e.scene;const t=this.awake!==r.prototype.awake,i=this.start!==r.prototype.start,s=this.update!==r.prototype.update,a=this.destroy!==r.prototype.destroy;t&&this.scene.events.once("scene-awake",this.awake,this),i&&this.scene.events.once(n().Scenes.Events.UPDATE,this.start,this),s&&this.scene.events.on(n().Scenes.Events.UPDATE,this.update,this),(i||s||a)&&e.on(n().GameObjects.Events.DESTROY,(()=>{this.scene.events.off(n().Scenes.Events.UPDATE,this.start,this),this.scene.events.off(n().Scenes.Events.UPDATE,this.update,this),a&&this.destroy()}))}awake(){}start(){}update(){}destroy(){}}class a extends r{constructor(e){super(e),this.keys=void 0,this.shouldTimerStart=!1,this.speed=500,this.maxSpeed=800,this.initialSpeed=500,this.lastDirection=0,this.airDeceleration=1,this.isJumping=!1,this.rollStart=0,e.setName("player"),this.player=e,this.body=this.player.body}start(){this.keys=this.scene.input.keyboard.addKeys({left:Phaser.Input.Keyboard.KeyCodes.A,right:Phaser.Input.Keyboard.KeyCodes.D,jump:Phaser.Input.Keyboard.KeyCodes.W}),this.scene.anims.create({key:"player_walk",frameRate:15,frames:this.scene.anims.generateFrameNumbers("player_spritesheet",{start:2,end:3}),repeat:-1}),this.scene.anims.create({key:"player_jump",frameRate:1,frames:this.scene.anims.generateFrameNumbers("player_spritesheet",{start:1,end:1}),repeat:-1}),this.scene.anims.create({key:"player_idle",frameRate:1,frames:this.scene.anims.generateFrameNumbers("player_spritesheet",{start:0,end:0}),repeat:-1}),this.scene.input.keyboard.on("keydown-SPACE",(()=>{this.shouldTimerStart=!0,Date.now()-this.rollStart>1e3&&(this.rollStart=Date.now())}))}update(){var e;if(!this.player.active)return;const t=this.body.blocked.down;this.isJumping&&this.body.blocked.down&&(this.isJumping=!1),this.body.blocked.up&&(this.speed*=1.5),this.isRolling()?(this.player.setAngle(this.player.angle+20*(this.player.flipX?-1:1)),this.player.setVelocityX(Math.abs(this.body.velocity.x)<400?400*(this.player.flipX?-1:1):this.body.velocity.x)):0!=this.player.angle&&this.player.setAngle(0),this.keys.jump.isDown&&this.body.blocked.down&&(this.isJumping=!0,this.player.setVelocityY(-750),this.shouldTimerStart=!0);let i=!1;if(!this.isJumping&&this.speed<this.initialSpeed&&(this.speed=this.initialSpeed),this.speed=Math.min(this.maxSpeed,this.speed*(t?1:this.airDeceleration)),this.keys.right.isDown&&(-1!=this.lastDirection&&(this.speed=this.isJumping?this.initialSpeed/2:this.initialSpeed),this.player.setVelocityX(this.speed),i=!0,this.player.setFlipX(!1),this.lastDirection=-1,this.shouldTimerStart=!0),this.keys.left.isDown&&this.player.x>10&&(1!=this.lastDirection&&(this.speed=this.isJumping?this.initialSpeed/2:this.initialSpeed),this.player.setVelocityX(-this.speed),i=!0,this.player.setFlipX(!0),this.lastDirection=1,this.shouldTimerStart=!0),!i){const e=this.player.body.velocity.x;this.player.setAccelerationX(-6*e)}this.keys.right.isDown||this.keys.left.isDown?this.speed<this.maxSpeed&&(this.speed+=7):this.speed>this.initialSpeed&&(this.speed-=50),this.player.body.velocity.y<-10?this.player.play("player_jump"):Math.abs(this.player.body.velocity.x)>10?"player_walk"!=(null===(e=this.player.anims.currentAnim)||void 0===e?void 0:e.key)&&this.player.play("player_walk"):this.player.play("player_idle"),this.player.x<0&&(this.player.x=0,this.player.setVelocityX(0))}isRolling(){return Date.now()-this.rollStart<300}static newInstance(e){return new a(e.physics.add.sprite(81,750,"player_spritesheet",0).setScale(.055).setOrigin(.5,.5))}}class o extends r{constructor(e,t,i){super(e),this.rotationSpeed=1,this.maxRotation=15,this.scaleSpeed=7e-4,this.rotationLeft=!1,this.scaleUp=!1,e.setName("enemy, rotate="+t),this.enemy=e,this.body=this.enemy.body,this.rotate=t,this.maxScale=e.scaleX+.03,this.minScale=e.scaleX-.01,this.onDeath=i}update(){this.rotate?this.rotationLeft?(this.enemy.setAngle(this.enemy.angle+this.rotationSpeed),this.enemy.angle>this.maxRotation&&(this.rotationLeft=!1)):(this.enemy.setAngle(this.enemy.angle-this.rotationSpeed),this.enemy.angle<-this.maxRotation&&(this.rotationLeft=!0)):this.scaleUp?(this.enemy.setScale(this.enemy.scaleX+this.scaleSpeed),this.enemy.scaleX>this.maxScale&&(this.scaleUp=!1)):(this.enemy.setScale(this.enemy.scaleX-this.scaleSpeed),this.enemy.scaleX<this.minScale&&(this.scaleUp=!0))}destroy(){this.onDeath()}}class d extends r{constructor(e,t,i){super(e),this.num=0,this.dice=e,this.body=this.dice.body,this.player=t,this.body.setAllowGravity(!1),this.scene.physics.moveToObject(e,i,600),this.scene.time.delayedCall(5e3,(()=>{this.dice.destroy()})),this.scene.time.addEvent({callback:()=>{this.dice.active&&(this.num=(this.num+1)%6,this.dice.setFrame(this.num),this.scene.tweens.add({targets:this.dice,scale:.1+.06*this.num,ease:"Linear",duration:100,repeat:0,yoyo:!1}))},loop:!0,delay:300})}explode(){const e=this.scene.add.particles("explosion_particle").createEmitter({x:this.dice.x,y:this.dice.y,speed:{min:-300,max:300},angle:{min:0,max:360},scale:{start:.5+.5*this.num,end:0},blendMode:"SCREEN",active:!0,lifespan:200,gravityY:-200,frequency:0});this.scene.children.each((e=>{var t;if(!(null===(t=null==e?void 0:e.body)||void 0===t?void 0:t.position))return;if(!e.name.startsWith("enemy"))return;const i=e.body;Phaser.Math.Distance.BetweenPoints(i.center,this.dice)<65+15*this.num&&e.destroy()})),this.scene.time.delayedCall(200,(()=>{e.stop(),this.scene.time.delayedCall(500,(()=>{e.remove()}))})),this.dice.destroy()}static newInstance(e,t,i,s){const n=e.physics.add.image(t.player.x,t.player.y,"dice").setScale(.1),r=new d(n,t,new Phaser.Math.Vector2(e.input.mousePointer.worldX,e.input.mousePointer.worldY));return e.physics.add.collider(n,s,(()=>{r.explode()})),e.tweens.add({targets:n,scale:{from:.05,to:.1},alpha:{from:0,to:1},ease:"Linear",duration:150,repeat:0,yoyo:!1}),r}}class l extends Phaser.Renderer.WebGL.Pipelines.PostFXPipeline{constructor(e){super({game:e,renderTarget:!0,fragShader:"\n#define SHADER_NAME VIGNETTE\nprecision mediump float;\n\nuniform vec2 resolution;\nuniform sampler2D uMainSampler;\nvarying vec2 outTexCoord;\n\nvec3 makeCircle(vec2 st,vec2 center, vec3 col){\n    float d = distance(st,center);\n    float pct = smoothstep(0.4,0.2+1.5,d);\n    return vec3(1.0-pct,1.0-pct, 1.0-pct)*col;\n} \nvoid main(void) {\n    vec2 st = vec2(gl_FragCoord.x/resolution.x, gl_FragCoord.y/resolution.y);\n    vec4 color = texture2D(uMainSampler, outTexCoord);\n    vec4 beforeColor = color*vec4(makeCircle(st,vec2(1,1),vec3(1.0)),1.0);\n    gl_FragColor = vec4 (beforeColor.x, beforeColor.y, beforeColor.z*1.1, beforeColor.w);\n}\n",uniforms:["uMainSampler","resolution"]})}onBoot(){this.set2f("resolution",this.renderer.width/2,this.renderer.height/2)}}class c extends Phaser.Renderer.WebGL.Pipelines.PostFXPipeline{constructor(e){super({game:e,renderTarget:!0,fragShader:"\n#define SHADER_NAME CHROMATIC_ABERRATION\nprecision mediump float;\n\nuniform vec2 resolution;\nuniform sampler2D uMainSampler;\n\n// logic from https://www.shadertoy.com/view/Mds3zn\nvoid main(void) {\n    vec2 uv = gl_FragCoord.xy / resolution.xy;\n    \n    float amount = ((resolution.x / 2.0) - gl_FragCoord.x - 300.0) * 0.00001 + ((resolution.y / 2.0) - gl_FragCoord.y - 300.0) * 0.00001;\n\n    vec3 col;\n    col.r = texture2D( uMainSampler, vec2(uv.x+amount,uv.y) ).r;\n    col.g = texture2D( uMainSampler, uv ).g;\n    col.b = texture2D( uMainSampler, vec2(uv.x-amount,uv.y) ).b;\n\n\tcol *= (1.0 - amount * 0.5);\n\n    gl_FragColor = vec4(col, 1.0);\n}\n",uniforms:["uMainSampler","resolution"]})}onBoot(){this.set2f("resolution",this.renderer.width,this.renderer.height)}}class h extends n().Scene{constructor(){super("Level"),this.player=void 0,this.enemiesRemainingText=void 0,this.outOfEnemiesText=void 0,this.maxEnemies=0,this.timer=void 0,this.startTime=null,this.timeEnabled=!1,this.enemies=void 0,this.diceGroup=void 0,this.numDice=0,this.isFinishable=!1,this.goal=void 0,this.mustKillText=void 0}editorCreate(){this.events.emit("scene-awake")}create({levelNumber:e}){this.editorCreate(),this.isFinishable=!1,this.startTime=null,this.timeEnabled=!1,this.add.image(1500,500,"slots_bg").setScrollFactor(.1).setScale(1,1.5).setDepth(-2);const t=this.make.tilemap({key:"casino_tilemap"+e}),i=t.addTilesetImage("wall","wall"),s=t.addTilesetImage("spikes","spikes");t.createLayer("Background",i,0,130).setScale(.55);const n=t.createLayer("Wall",i,0,130).setScale(.55);n.setCollisionByProperty({collides:!0},!0),n.setCollisionByExclusion([-1]);const r=t.createLayer("Spikes",s,0,130).setScale(.55);r.setCollisionByExclusion([-1]),this.player=a.newInstance(this),this.player.player.setDepth(1);const h=this.add.image(336,263,"check").setOrigin(0).setScrollFactor(0).setScale(.15).setAlpha(.1),p=()=>{setTimeout((()=>{if(!this.enemies)return;const e=this.enemies.getLength();this.enemiesRemainingText.text=e+"";const t=e===this.maxEnemies?"#f00":0===e?"#0f0":"#ff0";this.outOfEnemiesText.setColor(t),this.enemiesRemainingText.setColor(t),0===e&&(h.setAlpha(1),this.isFinishable=!0,this.goal.setFrame(1),this.mustKillText.destroy())}))};switch(this.enemies=this.physics.add.group(),e){case 0:this.add.text(150,600,"Use WASD to move!",{align:"center",fontSize:"20px",fill:"#fff",stroke:"#000",strokeThickness:5,fontFamily:'"Arial"'}).setOrigin(.5,1).setDepth(100),this.add.text(800,600,"Press SPACE to roll through enemies!\nYou must kill them all before finishing.",{align:"center",fontSize:"17px",fill:"#fff",stroke:"#000",strokeThickness:4,fontFamily:'"Arial"'}).setOrigin(.5,1).setDepth(100),this.add.text(1400,600,"Jump over the spikes!",{align:"center",fontSize:"20px",fill:"#fff",stroke:"#000",strokeThickness:5,fontFamily:'"Arial"'}).setOrigin(.5,1).setDepth(100),this.add.text(2500,550,"Reach the end as fast as you can!",{align:"center",fontSize:"20px",fill:"#fff",stroke:"#000",strokeThickness:5,fontFamily:'"Arial"'}).setOrigin(.5,1).setDepth(100),this.add.text(1950,600,"Aim with the mouse and click to throw explosive dice at enemies!",{align:"center",fontSize:"17px",fill:"#fff",stroke:"#000",strokeThickness:4,fontFamily:'"Arial"'}).setOrigin(.5,1).setDepth(100),this.enemies.add(new o(this.physics.add.image(800,750,"poker_chip").setScale(.1),!0,p).enemy),this.enemies.add(new o(this.physics.add.image(2e3,750,"wine_glass").setScale(.2),!1,p).enemy),this.goal=this.physics.add.staticImage(2500,840,"finish_goal",0).setOrigin(.5,1).setScale(.285);break;case 1:this.enemies.add(new o(this.physics.add.image(700,840,"poker_chip").setScale(.1).setOrigin(.5,1),!0,p).enemy),this.enemies.add(new o(this.physics.add.image(740,840,"wine_glass").setScale(.25).setOrigin(.5,1),!1,p).enemy),this.enemies.add(new o(this.physics.add.image(780,840,"poker_chip").setScale(.1).setOrigin(.5,1),!0,p).enemy),this.enemies.add(new o(this.physics.add.image(3090,623,"poker_chip").setScale(.2).setOrigin(.5,1),!1,p).enemy),this.enemies.add(new o(this.physics.add.image(3800,554,"poker_chip").setScale(.2).setOrigin(.5,1),!1,p).enemy),this.enemies.add(new o(this.physics.add.image(4e3,840,"martini_glass").setScale(.25).setOrigin(.5,1),!1,p).enemy),this.goal=this.physics.add.staticImage(4500,700,"finish_goal",0).setOrigin(.5,1).setScale(.285);break;case 2:this.enemies.add(new o(this.physics.add.image(450,840,"martini_glass").setScale(.2).setOrigin(.5,1),!0,p).enemy),this.enemies.add(new o(this.physics.add.image(490,840,"wine_glass").setScale(.2).setOrigin(.5,1),!0,p).enemy),this.enemies.add(new o(this.physics.add.image(1e3,480,"poker_chip").setScale(.15).setOrigin(.5,1),!0,p).enemy),this.enemies.add(new o(this.physics.add.image(2430,617,"poker_chip").setScale(.1).setOrigin(.5,1),!0,p).enemy),this.goal=this.physics.add.staticImage(3310,840,"finish_goal",0).setOrigin(.5,1).setScale(.285);break;case 3:this.enemies.add(new o(this.physics.add.image(800,700,"martini_glass").setScale(.2).setOrigin(.5,1),!0,p).enemy),this.enemies.add(new o(this.physics.add.image(1300,900,"poker_chip").setScale(.17).setOrigin(.5,1),!1,p).enemy),this.enemies.add(new o(this.physics.add.image(1900,700,"wine_glass").setScale(.2).setOrigin(.5,1),!1,p).enemy),this.enemies.add(new o(this.physics.add.image(2400,770,"poker_chip").setScale(.17).setOrigin(.5,1),!1,p).enemy),this.enemies.add(new o(this.physics.add.image(3230,480,"poker_chip").setScale(.1).setOrigin(.5,1),!1,p).enemy),this.enemies.add(new o(this.physics.add.image(3670,900,"poker_chip").setScale(.25).setOrigin(.5,1),!1,p).enemy),this.goal=this.physics.add.staticImage(4640,700,"finish_goal",0).setOrigin(.5,1).setScale(.285);break;case 4:this.enemies.add(new o(this.physics.add.image(530,695,"martini_glass").setScale(.2).setOrigin(.5,1),!0,p).enemy),this.enemies.add(new o(this.physics.add.image(580,695,"martini_glass").setScale(.2).setOrigin(.5,1),!1,p).enemy),this.enemies.add(new o(this.physics.add.image(720,900,"poker_chip").setScale(.15).setOrigin(.5,1),!0,p).enemy),this.enemies.add(new o(this.physics.add.image(2050,623,"wine_glass").setScale(.2).setOrigin(.5,1),!1,p).enemy),this.enemies.add(new o(this.physics.add.image(2100,623,"wine_glass").setScale(.2).setOrigin(.5,1),!1,p).enemy),this.enemies.add(new o(this.physics.add.image(1790,840,"poker_chip").setScale(.2).setOrigin(.5,1),!0,p).enemy),this.enemies.add(new o(this.physics.add.image(2315,900,"poker_chip").setScale(.2).setOrigin(.5,1),!0,p).enemy),this.enemies.add(new o(this.physics.add.image(3528,482,"poker_chip").setScale(.17).setOrigin(.5,1),!0,p).enemy),this.goal=this.physics.add.staticImage(3865,765,"finish_goal",0).setOrigin(.5,1).setScale(.285);break;case 5:this.enemies.add(new o(this.physics.add.image(700,760,"martini_glass").setScale(.2).setOrigin(.5,1),!1,p).enemy),this.enemies.add(new o(this.physics.add.image(750,760,"martini_glass").setScale(.2).setOrigin(.5,1),!1,p).enemy),this.enemies.add(new o(this.physics.add.image(1266,840,"poker_chip").setScale(.15).setOrigin(.5,1),!0,p).enemy),this.enemies.add(new o(this.physics.add.image(1347,480,"poker_chip").setScale(.15).setOrigin(.5,1),!0,p).enemy),this.enemies.add(new o(this.physics.add.image(1675,760,"martini_glass").setScale(.2).setOrigin(.5,1),!1,p).enemy),this.enemies.add(new o(this.physics.add.image(1725,760,"martini_glass").setScale(.2).setOrigin(.5,1),!1,p).enemy),this.enemies.add(new o(this.physics.add.image(2241,840,"poker_chip").setScale(.15).setOrigin(.5,1),!0,p).enemy),this.enemies.add(new o(this.physics.add.image(2322,480,"poker_chip").setScale(.15).setOrigin(.5,1),!0,p).enemy),this.enemies.add(new o(this.physics.add.image(2650,760,"martini_glass").setScale(.2).setOrigin(.5,1),!1,p).enemy),this.enemies.add(new o(this.physics.add.image(2700,760,"martini_glass").setScale(.2).setOrigin(.5,1),!1,p).enemy),this.enemies.add(new o(this.physics.add.image(3216,840,"poker_chip").setScale(.15).setOrigin(.5,1),!0,p).enemy),this.enemies.add(new o(this.physics.add.image(3297,480,"poker_chip").setScale(.15).setOrigin(.5,1),!0,p).enemy),this.enemies.add(new o(this.physics.add.image(4100,622,"wine_glass").setScale(.2).setOrigin(.5,1),!1,p).enemy),this.enemies.add(new o(this.physics.add.image(4150,622,"wine_glass").setScale(.2).setOrigin(.5,1),!1,p).enemy),this.enemies.add(new o(this.physics.add.image(4200,622,"wine_glass").setScale(.2).setOrigin(.5,1),!1,p).enemy),this.enemies.add(new o(this.physics.add.image(4250,622,"wine_glass").setScale(.2).setOrigin(.5,1),!1,p).enemy),this.enemies.add(new o(this.physics.add.image(4650,622,"poker_chip").setScale(.12).setOrigin(.5,1),!1,p).enemy),this.goal=this.physics.add.staticImage(5310,693,"finish_goal",0).setOrigin(.5,1).setScale(.285)}this.physics.add.collider(this.player.player,n),this.physics.add.collider(this.player.player,r,(()=>this.restart())),this.physics.add.collider(this.enemies,n),this.diceGroup=this.add.group(),this.numDice=0,this.physics.add.overlap(this.player.player,this.enemies,((e,t)=>{this.player.isRolling()?(t.destroy(),this.numDice++,this.displayDice()):this.restart()})),this.mustKillText=this.add.text(this.goal.x,this.goal.y-225,"You must kill all enemies to finish!",{fontSize:"17px",fill:"#f00",stroke:"#000",strokeThickness:4,fontFamily:'"Arial"'}).setOrigin(.5,1).setDepth(100),this.goal.body.setSize(180,210),this.goal.body.setOffset(245,160),this.tweens.add({targets:this.goal,scale:{from:.27,to:.3},ease:"Linear",duration:800,repeat:-1,yoyo:!0}),this.tweens.add({targets:this.goal,angle:{from:-2,to:2},ease:"Linear",duration:1600,repeat:-1,yoyo:!0}),this.physics.add.overlap(this.goal,this.player.player,(()=>{this.isFinishable&&(this.timeEnabled=!1,this.scene.start("LevelWin",{levelNumber:e,time:(Date.now()-this.startTime)/1e3}))})),this.cameras.main.setBounds(0,-900,1e4,1800),this.cameras.main.setZoom(1.5),this.cameras.main.startFollow(this.player.player,!0,.4,0,-270,0),this.cameras.main.setRoundPixels(!1),this.input.keyboard.on("keydown-R",(()=>{this._restart()})),this.input.keyboard.on("keydown-ESC",(()=>{this.scene.start("MainMenu",{levelNumber:e})})),this.input.on("pointerdown",(e=>{e.leftButtonDown()&&this.numDice>0&&(d.newInstance(this,this.player,e,n),this.numDice--,this.displayDice())})),this.maxEnemies=this.enemies.getLength(),this.add.text(270,170,"Enemies Remaining:",{fontSize:"22px",fill:"#fff",stroke:"#000",strokeThickness:5,fontFamily:'"Arial"'}).setOrigin(0,0).setDepth(100).setScrollFactor(0),this.outOfEnemiesText=this.add.text(330,200,"/"+this.maxEnemies,{fontSize:"55px",fill:"#f00",stroke:"#000",strokeThickness:7,fontFamily:'"Arial"'}).setOrigin(0,0).setDepth(100).setScrollFactor(0),this.enemiesRemainingText=this.add.text(270,200,this.maxEnemies+"",{fontSize:"90px",fill:"#f00",stroke:"#000",strokeThickness:10,fontFamily:'"Arial"'}).setOrigin(0,0).setDepth(100).setScrollFactor(0),this.timer=this.add.text(0,0,"0:00",{fontSize:"21px",fill:"#fff",stroke:"#000",strokeThickness:4,fontFamily:'"Arial"'}).setOrigin(.5,.5).setDepth(100).setScrollFactor(0).setAlpha(.5),this.input.on("pointerdown",(e=>{e.rightButtonDown()&&!e.leftButtonDown()&&(this.physics.world.timeScale=2,this.cameras.main.setPostPipeline([l,c]))})),this.input.on("pointerup",(e=>{e.rightButtonReleased()&&(this.physics.world.timeScale=1,this.cameras.main.resetPostPipeline())}))}update(){this.player.body.y>1200&&this.restart(),null===this.startTime&&this.player.shouldTimerStart&&(this.startTime=Date.now(),this.timeEnabled=!0);const e=this.player.player.x-this.cameras.main.scrollX+(this.player.player.flipX?-6:6),t=this.player.player.y-this.cameras.main.scrollY-40;if(this.timer.x=e,this.timer.y=t,this.timeEnabled){const e=null===this.startTime?0:Date.now()-this.startTime,t=Math.floor(e/1e3),i=Math.floor(t/60),s=t%60,n=Math.min(99,Math.floor(100*Number((e/1e3-t).toFixed(2))));this.timer.text=`${i?i+":"+(s<10?"0"+s:s):s}.${n<10?"0"+n:n}`}this.diceGroup.setX(e),this.diceGroup.setY(t-40,-40)}restart(){this._restart()}_restart(){this.scene.restart()}displayDice(){this.diceGroup.clear(!0,!0);for(var e=0;e<this.numDice;e++)this.diceGroup.add(this.add.image(0,0,"dice",0).setScrollFactor(0).setOrigin(.5).setScale(.15).setAlpha(.5))}}var p=i(565),m=i(657);class u extends r{constructor(e){super(e),this.gameObject=e,e.__PreloadText=this,this.scene.load.on(n().Loader.Events.PROGRESS,(e=>{this.gameObject.text=Math.floor(100*e)+"%"}))}static getComponent(e){return e.__PreloadText}}class y extends n().Scene{constructor(){super("Preload")}editorCreate(){this.events.emit("scene-awake")}preload(){this.editorCreate(),this.load.pack("asset-pack",m);const e=this.add.image(this.cameras.main.centerX-30,200,"low_player_idle").setScale(.3).setOrigin(.5,0);this.tweens.add({targets:e,scale:{from:.25,to:.3},ease:"Cubic",duration:1300,repeat:-1,yoyo:!0});const t=this.add.text(this.cameras.main.centerX,600,"",{});t.setOrigin(.5,.5),t.text="0%",t.setStyle({align:"center",fontFamily:"Arial",fontSize:"75px",stroke:"#000",strokeThickness:9}),new u(t),this.input.mouse.disableContextMenu(),this.load.on(n().Loader.Events.COMPLETE,(()=>this.scene.start("MainMenu")))}}class f extends n().Scene{constructor(){super("MainMenu")}editorCreate(){this.events.emit("scene-awake")}create(e){this.editorCreate();const t=this.add.image(this.cameras.main.centerX,250,"logo_text"),i=this.add.image(this.cameras.main.centerX,350,"player_spritesheet",1).setScale(.2).setOrigin(.5,0),s=this.add.image(this.cameras.main.centerX,700,"start");s.setInteractive().on("pointerdown",(()=>{this.add.tween({targets:s,scaleX:"*=0.8",scaleY:"*=0.8",duration:80,yoyo:!0}),this.add.tween({targets:[s,t,i],alpha:{from:1,to:0},duration:200,yoyo:!1}),this.time.delayedCall(200,(()=>{var t;return this.scene.start("BetweenLevel",{levelNumber:null!==(t=e.levelNumber)&&void 0!==t?t:0})}))})),this.tweens.add({targets:i,scale:{from:.2,to:.22},ease:"Linear",duration:4e3,repeat:-1,yoyo:!0}),this.tweens.add({targets:s,scale:{from:1,to:1.1},ease:"Linear",duration:2e3,repeat:-1,yoyo:!0})}}class g extends n().Scene{constructor(){super("BetweenLevel")}editorCreate(){this.events.emit("scene-awake")}create(e){var t;this.editorCreate(),this.cameras.main.setBackgroundColor("#333");const i=null!==(t=null==e?void 0:e.levelNumber)&&void 0!==t?t:0,s=this.add.image(this.cameras.main.centerX,this.cameras.main.centerY-10,"dice",i).setOrigin(.5,1),n=this.add.text(this.cameras.main.centerX,550,"Level "+(i+1),{align:"center",fontFamily:"Arial",fontSize:"80px",stroke:"#000",strokeThickness:12}).setOrigin(.5);this.add.tween({targets:[s,n],alpha:{from:0,to:1},duration:400,yoyo:!1}),this.time.delayedCall(1e3,(()=>{this.add.tween({targets:[s,n],alpha:{from:1,to:0},duration:400,yoyo:!1}),this.time.delayedCall(400,(()=>{this.scene.start("Level",{levelNumber:i})}))}))}}const v=[{bronze:6,silver:4,gold:3.05},{bronze:7.5,silver:6.1,gold:5.55},{bronze:6.2,silver:5,gold:4.05},{bronze:6.9,silver:6.1,gold:5.7},{bronze:7,silver:6.4,gold:5},{bronze:9.5,silver:8,gold:7}];class w extends n().Scene{constructor(){super("LevelWin")}editorCreate(){this.events.emit("scene-awake")}create(e){var t,i;this.editorCreate();const s=null!==(t=e.time)&&void 0!==t?t:0;this.cameras.main.setBackgroundColor("#666");const n=null!==(i=null==e?void 0:e.levelNumber)&&void 0!==i?i:0;let r="medal_",a=!0;s<=v[n].gold?r+="gold":s<=v[n].silver?r+="silver":s<=v[n].bronze?r+="bronze":(r+="none",a=!1);const o=this.add.image(this.cameras.main.centerX,this.cameras.main.centerY-30,r,0).setOrigin(.5,1),d=this.add.text(this.cameras.main.centerX,500,a?"Level "+(n+1)+" Complete!":`You must get below ${v[n].bronze} seconds to move on!`,{align:"center",fontFamily:"Arial",fontSize:a?"80px":"60px",stroke:"#000",strokeThickness:12,fill:a?"#fff":"#f00"}).setOrigin(.5),l=this.add.text(this.cameras.main.centerX,600,s.toFixed(2)+"s",{align:"center",fontFamily:"Arial",fontSize:"80px",stroke:"#000",strokeThickness:12}).setOrigin(.5);let c;a&&(c=this.add.image(this.cameras.main.centerX,840,"retry").setScale(.5),c.setInteractive().on("pointerdown",(()=>{this.add.tween({targets:c,scaleX:"*=0.8",scaleY:"*=0.8",duration:80,yoyo:!0}),this.add.tween({targets:[h,o,d,l,c],alpha:{from:1,to:0},duration:400,yoyo:!1}),this.time.delayedCall(400,(()=>{this.scene.start("Level",{levelNumber:n})}))}))),this.input.keyboard.on("keydown-R",(()=>{this.scene.start("Level",{levelNumber:n})}));const h=this.add.image(this.cameras.main.centerX,730,a?"continue":"retry").setScale(.9);h.setInteractive().on("pointerdown",(()=>{this.add.tween({targets:h,scaleX:"*=0.8",scaleY:"*=0.8",duration:80,yoyo:!0}),this.add.tween({targets:[h,o,d,l,c],alpha:{from:1,to:0},duration:400,yoyo:!1}),this.time.delayedCall(400,(()=>{if(a){if(n>=5)return void this.scene.start("WinScreen");this.scene.start("BetweenLevel",{levelNumber:n+1})}else this.scene.start("Level",{levelNumber:n})}))})),this.add.tween({targets:[o,d,h,l,c],alpha:{from:0,to:1},duration:400,yoyo:!1})}}class k extends n().Scene{constructor(){super("WinScreen")}editorCreate(){const e=this.add.text(321,191,"",{});e.text="You win!",e.setStyle({fontFamily:"Arial",fontSize:"200px",stroke:"#000",strokeThickness:20});const t=this.add.text(430,532,"",{});t.text="Thanks for playing!",t.setStyle({fontFamily:"Arial",fontSize:"70px",stroke:"#000",strokeThickness:5}),this.events.emit("scene-awake")}create(){this.editorCreate()}}class S extends n().Scene{constructor(){super("Boot")}preload(){this.load.pack("pack",p)}create(){this.scene.start("Preload")}}window.addEventListener("load",(function(){new(n().Game)({width:1500,height:900,backgroundColor:"#E7FFFF",scale:{mode:n().Scale.ScaleModes.FIT,autoCenter:n().Scale.Center.CENTER_BOTH},physics:{default:"arcade",arcade:{gravity:{y:1700},debug:!1}},scene:[S,y,h,f,g,w,k],pipeline:{Vignette:l,ChromaticAberration:c}}).scene.start("Boot")}))},657:(e,t,i)=>{e.exports=i.p+"asset-packs/asset-pack-31d5c5157cdd28ac8d12.json"},565:(e,t,i)=>{e.exports=i.p+"asset-packs/preload-asset-pack-b63f9b00f1cddfad1619.json"}},n={};function r(e){var t=n[e];if(void 0!==t){if(void 0!==t.error)throw t.error;return t.exports}var i=n[e]={exports:{}};try{var a={id:e,module:i,factory:s[e],require:r};r.i.forEach((function(e){e(a)})),i=a.module,a.factory.call(i.exports,i,i.exports,a.require)}catch(e){throw i.error=e,e}return i.exports}r.m=s,r.c=n,r.i=[],e=[],r.O=(t,i,s,n)=>{if(!i){var a=1/0;for(l=0;l<e.length;l++){for(var[i,s,n]=e[l],o=!0,d=0;d<i.length;d++)(!1&n||a>=n)&&Object.keys(r.O).every((e=>r.O[e](i[d])))?i.splice(d--,1):(o=!1,n<a&&(a=n));o&&(e.splice(l--,1),t=s())}return t}n=n||0;for(var l=e.length;l>0&&e[l-1][2]>n;l--)e[l]=e[l-1];e[l]=[i,s,n]},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var i in t)r.o(t,i)&&!r.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},r.hu=e=>e+"."+r.h()+".hot-update.js",r.hmrF=()=>"main."+r.h()+".hot-update.json",r.h=()=>"94ec29729d292c5cdf5c",r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),t={},i="phaser3-webpack-template:",r.l=(e,s,n,a)=>{if(t[e])t[e].push(s);else{var o,d;if(void 0!==n)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var h=l[c];if(h.getAttribute("src")==e||h.getAttribute("data-webpack")==i+n){o=h;break}}o||(d=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,r.nc&&o.setAttribute("nonce",r.nc),o.setAttribute("data-webpack",i+n),o.src=e),t[e]=[s];var p=(i,s)=>{o.onerror=o.onload=null,clearTimeout(m);var n=t[e];if(delete t[e],o.parentNode&&o.parentNode.removeChild(o),n&&n.forEach((e=>e(s))),i)return i(s)},m=setTimeout(p.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=p.bind(null,o.onerror),o.onload=p.bind(null,o.onload),d&&document.head.appendChild(o)}},(()=>{var e,t,i,s,n={},a=r.c,o=[],d=[],l="idle";function c(e){l=e;for(var t=0;t<d.length;t++)d[t].call(null,e)}function h(e){if(0===t.length)return e();var i=t;return t=[],Promise.all(i).then((function(){return h(e)}))}function p(e){if("idle"!==l)throw new Error("check() is only allowed in idle status");return c("check"),r.hmrM().then((function(s){if(!s)return c(y()?"ready":"idle"),null;c("prepare");var n=[];return t=[],i=[],Promise.all(Object.keys(r.hmrC).reduce((function(e,t){return r.hmrC[t](s.c,s.r,s.m,e,i,n),e}),[])).then((function(){return h((function(){return e?u(e):(c("ready"),n)}))}))}))}function m(e){return"ready"!==l?Promise.resolve().then((function(){throw new Error("apply() is only allowed in ready status")})):u(e)}function u(e){e=e||{},y();var t=i.map((function(t){return t(e)}));i=void 0;var n,r=t.map((function(e){return e.error})).filter(Boolean);if(r.length>0)return c("abort"),Promise.resolve().then((function(){throw r[0]}));c("dispose"),t.forEach((function(e){e.dispose&&e.dispose()})),c("apply");var a=function(e){n||(n=e)},o=[];return t.forEach((function(e){if(e.apply){var t=e.apply(a);if(t)for(var i=0;i<t.length;i++)o.push(t[i])}})),n?(c("fail"),Promise.resolve().then((function(){throw n}))):s?u(e).then((function(e){return o.forEach((function(t){e.indexOf(t)<0&&e.push(t)})),e})):(c("idle"),Promise.resolve(o))}function y(){if(s)return i||(i=[]),Object.keys(r.hmrI).forEach((function(e){s.forEach((function(t){r.hmrI[e](t,i)}))})),s=void 0,!0}r.hmrD=n,r.i.push((function(u){var y,f,g,v=u.module,w=function(i,s){var n=a[s];if(!n)return i;var r=function(t){if(n.hot.active){if(a[t]){var r=a[t].parents;-1===r.indexOf(s)&&r.push(s)}else o=[s],e=t;-1===n.children.indexOf(t)&&n.children.push(t)}else console.warn("[HMR] unexpected require("+t+") from disposed module "+s),o=[];return i(t)},d=function(e){return{configurable:!0,enumerable:!0,get:function(){return i[e]},set:function(t){i[e]=t}}};for(var p in i)Object.prototype.hasOwnProperty.call(i,p)&&"e"!==p&&Object.defineProperty(r,p,d(p));return r.e=function(e){return function(e){switch(l){case"ready":return c("prepare"),t.push(e),h((function(){c("ready")})),e;case"prepare":return t.push(e),e;default:return e}}(i.e(e))},r}(u.require,u.id);v.hot=(y=u.id,f=v,g={_acceptedDependencies:{},_acceptedErrorHandlers:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_selfInvalidated:!1,_disposeHandlers:[],_main:e!==y,_requireSelf:function(){o=f.parents.slice(),e=y,r(y)},active:!0,accept:function(e,t,i){if(void 0===e)g._selfAccepted=!0;else if("function"==typeof e)g._selfAccepted=e;else if("object"==typeof e&&null!==e)for(var s=0;s<e.length;s++)g._acceptedDependencies[e[s]]=t||function(){},g._acceptedErrorHandlers[e[s]]=i;else g._acceptedDependencies[e]=t||function(){},g._acceptedErrorHandlers[e]=i},decline:function(e){if(void 0===e)g._selfDeclined=!0;else if("object"==typeof e&&null!==e)for(var t=0;t<e.length;t++)g._declinedDependencies[e[t]]=!0;else g._declinedDependencies[e]=!0},dispose:function(e){g._disposeHandlers.push(e)},addDisposeHandler:function(e){g._disposeHandlers.push(e)},removeDisposeHandler:function(e){var t=g._disposeHandlers.indexOf(e);t>=0&&g._disposeHandlers.splice(t,1)},invalidate:function(){switch(this._selfInvalidated=!0,l){case"idle":i=[],Object.keys(r.hmrI).forEach((function(e){r.hmrI[e](y,i)})),c("ready");break;case"ready":Object.keys(r.hmrI).forEach((function(e){r.hmrI[e](y,i)}));break;case"prepare":case"check":case"dispose":case"apply":(s=s||[]).push(y)}},check:p,apply:m,status:function(e){if(!e)return l;d.push(e)},addStatusHandler:function(e){d.push(e)},removeStatusHandler:function(e){var t=d.indexOf(e);t>=0&&d.splice(t,1)},data:n[y]},e=void 0,g),v.parents=o,v.children=[],o=[],u.require=w})),r.hmrC={},r.hmrI={}})(),(()=>{var e;r.g.importScripts&&(e=r.g.location+"");var t=r.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var i=t.getElementsByTagName("script");i.length&&(e=i[i.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=e})(),(()=>{var e,t,i,s,n={179:0},a={};function o(e){return new Promise(((t,i)=>{a[e]=t;var s=r.p+r.hu(e),n=new Error;r.l(s,(t=>{if(a[e]){a[e]=void 0;var s=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;n.message="Loading hot update chunk "+e+" failed.\n("+s+": "+r+")",n.name="ChunkLoadError",n.type=s,n.request=r,i(n)}}))}))}function d(a){function o(e){for(var t=[e],i={},s=t.map((function(e){return{chain:[e],id:e}}));s.length>0;){var n=s.pop(),a=n.id,o=n.chain,l=r.c[a];if(l&&(!l.hot._selfAccepted||l.hot._selfInvalidated)){if(l.hot._selfDeclined)return{type:"self-declined",chain:o,moduleId:a};if(l.hot._main)return{type:"unaccepted",chain:o,moduleId:a};for(var c=0;c<l.parents.length;c++){var h=l.parents[c],p=r.c[h];if(p){if(p.hot._declinedDependencies[a])return{type:"declined",chain:o.concat([h]),moduleId:a,parentId:h};-1===t.indexOf(h)&&(p.hot._acceptedDependencies[a]?(i[h]||(i[h]=[]),d(i[h],[a])):(delete i[h],t.push(h),s.push({chain:o.concat([h]),id:h})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:i}}function d(e,t){for(var i=0;i<t.length;i++){var s=t[i];-1===e.indexOf(s)&&e.push(s)}}r.f&&delete r.f.jsonpHmr,e=void 0;var l={},c=[],h={},p=function(e){console.warn("[HMR] unexpected require("+e.id+") to disposed module")};for(var m in t)if(r.o(t,m)){var u,y=t[m],f=!1,g=!1,v=!1,w="";switch((u=y?o(m):{type:"disposed",moduleId:m}).chain&&(w="\nUpdate propagation: "+u.chain.join(" -> ")),u.type){case"self-declined":a.onDeclined&&a.onDeclined(u),a.ignoreDeclined||(f=new Error("Aborted because of self decline: "+u.moduleId+w));break;case"declined":a.onDeclined&&a.onDeclined(u),a.ignoreDeclined||(f=new Error("Aborted because of declined dependency: "+u.moduleId+" in "+u.parentId+w));break;case"unaccepted":a.onUnaccepted&&a.onUnaccepted(u),a.ignoreUnaccepted||(f=new Error("Aborted because "+m+" is not accepted"+w));break;case"accepted":a.onAccepted&&a.onAccepted(u),g=!0;break;case"disposed":a.onDisposed&&a.onDisposed(u),v=!0;break;default:throw new Error("Unexception type "+u.type)}if(f)return{error:f};if(g)for(m in h[m]=y,d(c,u.outdatedModules),u.outdatedDependencies)r.o(u.outdatedDependencies,m)&&(l[m]||(l[m]=[]),d(l[m],u.outdatedDependencies[m]));v&&(d(c,[u.moduleId]),h[m]=p)}t=void 0;for(var k,S=[],b=0;b<c.length;b++){var x=c[b],_=r.c[x];_&&_.hot._selfAccepted&&h[x]!==p&&!_.hot._selfInvalidated&&S.push({module:x,require:_.hot._requireSelf,errorHandler:_.hot._selfAccepted})}return{dispose:function(){var e;i.forEach((function(e){delete n[e]})),i=void 0;for(var t,s=c.slice();s.length>0;){var a=s.pop(),o=r.c[a];if(o){var d={},h=o.hot._disposeHandlers;for(b=0;b<h.length;b++)h[b].call(null,d);for(r.hmrD[a]=d,o.hot.active=!1,delete r.c[a],delete l[a],b=0;b<o.children.length;b++){var p=r.c[o.children[b]];p&&(e=p.parents.indexOf(a))>=0&&p.parents.splice(e,1)}}}for(var m in l)if(r.o(l,m)&&(o=r.c[m]))for(k=l[m],b=0;b<k.length;b++)t=k[b],(e=o.children.indexOf(t))>=0&&o.children.splice(e,1)},apply:function(e){for(var t in h)r.o(h,t)&&(r.m[t]=h[t]);for(var i=0;i<s.length;i++)s[i](r);for(var n in l)if(r.o(l,n)){var o=r.c[n];if(o){k=l[n];for(var d=[],p=[],m=[],u=0;u<k.length;u++){var y=k[u],f=o.hot._acceptedDependencies[y],g=o.hot._acceptedErrorHandlers[y];if(f){if(-1!==d.indexOf(f))continue;d.push(f),p.push(g),m.push(y)}}for(var v=0;v<d.length;v++)try{d[v].call(null,k)}catch(t){if("function"==typeof p[v])try{p[v](t,{moduleId:n,dependencyId:m[v]})}catch(i){a.onErrored&&a.onErrored({type:"accept-error-handler-errored",moduleId:n,dependencyId:m[v],error:i,originalError:t}),a.ignoreErrored||(e(i),e(t))}else a.onErrored&&a.onErrored({type:"accept-errored",moduleId:n,dependencyId:m[v],error:t}),a.ignoreErrored||e(t)}}}for(var w=0;w<S.length;w++){var b=S[w],x=b.module;try{b.require(x)}catch(t){if("function"==typeof b.errorHandler)try{b.errorHandler(t,{moduleId:x,module:r.c[x]})}catch(i){a.onErrored&&a.onErrored({type:"self-accept-error-handler-errored",moduleId:x,error:i,originalError:t}),a.ignoreErrored||(e(i),e(t))}else a.onErrored&&a.onErrored({type:"self-accept-errored",moduleId:x,error:t}),a.ignoreErrored||e(t)}}return c}}}self.webpackHotUpdatephaser3_webpack_template=(e,i,n)=>{for(var o in i)r.o(i,o)&&(t[o]=i[o]);n&&s.push(n),a[e]&&(a[e](),a[e]=void 0)},r.hmrI.jsonp=function(e,n){t||(t={},s=[],i=[],n.push(d)),r.o(t,e)||(t[e]=r.m[e])},r.hmrC.jsonp=function(a,l,c,h,p,m){p.push(d),e={},i=l,t=c.reduce((function(e,t){return e[t]=!1,e}),{}),s=[],a.forEach((function(t){r.o(n,t)&&void 0!==n[t]&&(h.push(o(t)),e[t]=!0)})),r.f&&(r.f.jsonpHmr=function(t,i){e&&!r.o(e,t)&&r.o(n,t)&&void 0!==n[t]&&(i.push(o(t)),e[t]=!0)})},r.hmrM=()=>{if("undefined"==typeof fetch)throw new Error("No browser support: need fetch API");return fetch(r.p+r.hmrF()).then((e=>{if(404!==e.status){if(!e.ok)throw new Error("Failed to fetch update manifest "+e.statusText);return e.json()}}))},r.O.j=e=>0===n[e];var l=(e,t)=>{var i,s,[a,o,d]=t,l=0;for(i in o)r.o(o,i)&&(r.m[i]=o[i]);for(d&&d(r),e&&e(t);l<a.length;l++)s=a[l],r.o(n,s)&&n[s]&&n[s][0](),n[a[l]]=0;r.O()},c=self.webpackChunkphaser3_webpack_template=self.webpackChunkphaser3_webpack_template||[];c.forEach(l.bind(null,0)),c.push=l.bind(null,c.push.bind(c))})();var a=r.O(void 0,[426],(()=>r(799)));a=r.O(a)})();